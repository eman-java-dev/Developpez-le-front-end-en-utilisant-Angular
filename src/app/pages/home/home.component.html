<div class="home-container">
  <h2 class="title">🏆 Olympic Games App</h2>
  <hr />
  <p class="subtitle">{{ chartData.length }} countries loaded</p>

  <!-- رسالة الخطأ إذا فشل تحميل البيانات -->
  <p class="error-message" *ngIf="hasError">
    ⚠️ Une erreur est survenue lors du chargement des données olympiques.
  </p>

  <div class="chart-container" *ngIf="chartData.length > 0 && !hasError; else noData">
    <!-- Pie Chart -->
    <ngx-charts-pie-chart
      [view]="view"
      [scheme]="colorScheme"
      [results]="chartData"
      [legend]="showLegend"
      [labels]="showLabels"
      [doughnut]="isDoughnut">
    </ngx-charts-pie-chart>

    <!-- Bar Chart -->
    <ngx-charts-bar-vertical
      [view]="view"
      [scheme]="colorScheme"
      [results]="barChartData"
      [legend]="showLegend"
      [xAxis]="true"
      [yAxis]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [xAxisLabel]="'Country'"
      [yAxisLabel]="'Total Medals'"
      (select)="onSelect($event)">
    </ngx-charts-bar-vertical>

    <!-- قائمة الدول مع الأعلام -->
    <ul class="country-list">
      <li *ngFor="let o of olympics">
        <a class="country-link" [routerLink]="['/country', o.id]">
          <img 
            [src]="'https://flagcdn.com/24x18/' + getCountryCode(o.country) + '.png'" 
            [alt]="o.country + ' flag'"
            width="24"
            height="18"
            style="margin-right: 8px;"
          />
          {{ o.country }}
        </a>
      </li>
    </ul>
  </div>

  <ng-template #noData>
    <p class="no-data-message">❌ Data is currently unavailable</p>
  </ng-template>
</div>
